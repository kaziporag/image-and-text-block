(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,i=window.wp.components,a=window.wp.element,l=window.ReactJSXRuntime;(0,e.registerBlockType)("my-plugin/image-text-block",{title:"Image and Text Block",icon:"format-image",category:"layout",attributes:{imageUrl:{type:"string",default:""},imageAlt:{type:"string",default:""},textContent:{type:"string",source:"html",selector:"p"},imagePosition:{type:"string",default:"left"}},edit:({attributes:e,setAttributes:s})=>{const{imageUrl:n,imageAlt:r,textContent:o,imagePosition:g}=e;return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsxs)(t.InspectorControls,{children:[(0,l.jsxs)(i.PanelBody,{title:"Image Settings",initialOpen:!0,children:[(0,l.jsx)(t.MediaUploadCheck,{children:(0,l.jsx)(t.MediaUpload,{onSelect:e=>s({imageUrl:e.url,imageAlt:e.alt}),allowedTypes:["image"],render:({open:e})=>(0,l.jsx)(i.Button,{onClick:e,isSecondary:!0,children:n?"Change Image":"Upload Image"})})}),n&&(0,l.jsx)(i.Button,{onClick:()=>s({imageUrl:"",imageAlt:""}),isLink:!0,isDestructive:!0,children:"Remove Image"})]}),(0,l.jsxs)(i.PanelBody,{title:"Layout Settings",initialOpen:!1,children:[(0,l.jsx)(i.Button,{isPrimary:"left"===g,onClick:()=>s({imagePosition:"left"}),children:"Image Left"}),(0,l.jsx)(i.Button,{isPrimary:"right"===g,onClick:()=>s({imagePosition:"right"}),children:"Image Right"})]})]}),(0,l.jsxs)("div",{className:"image-text-block "+("right"===g?"image-right":"image-left"),style:{display:"flex",flexDirection:"right"===g?"row-reverse":"row",alignItems:"center"},children:[n&&(0,l.jsx)("div",{className:"image-wrapper",style:{flex:1,padding:"10px"},children:(0,l.jsx)("img",{src:n,alt:r,style:{maxWidth:"100%"}})}),(0,l.jsx)("div",{className:"text-wrapper",style:{flex:2,padding:"10px"},children:(0,l.jsx)(t.RichText,{tagName:"p",onChange:e=>s({textContent:e}),value:o,placeholder:"Write your text here..."})})]})]})},save:({attributes:e})=>{const{imageUrl:i,imageAlt:a,textContent:s,imagePosition:n}=e;return(0,l.jsxs)("div",{className:"image-text-block "+("right"===n?"image-right":"image-left"),style:{display:"flex",flexDirection:"right"===n?"row-reverse":"row",alignItems:"center"},children:[i&&(0,l.jsx)("div",{className:"image-wrapper",style:{flex:1,padding:"10px"},children:(0,l.jsx)("img",{src:i,alt:a,style:{maxWidth:"100%"}})}),(0,l.jsx)("div",{className:"text-wrapper",style:{flex:2,padding:"10px"},children:(0,l.jsx)(t.RichText.Content,{tagName:"p",value:s})})]})}})})();